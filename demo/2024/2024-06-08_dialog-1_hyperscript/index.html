<!--
See: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog
-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple HTML</title>
    <link rel="stylesheet" type="text/css" href="main.css"/>
    <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
    <!--    <script src="main.js" defer></script>-->
</head>
<body>

<dialog
    id="xfavDialog"
    _="
    on a_show_dialog from <body/> me.showModal()
    on a_close log `dialog: ${event.detail.message}` then me.close(event.detail.message) -- close the dialog with the `close()` method, which triggers the 'close' event
    on close log [`dialog: close-event: `, event]
    ">
    <form>
        <p>
            <label>
                Favorite animal:
                <select>
                    <option value="default">Chooseâ€¦</option>
                    <option>Brine shrimp</option>
                    <option>Red panda</option>
                    <option>Spider monkey</option>
                </select>
            </label>
        </p>
        <div>
            <button value="cancel" formmethod="dialog">Cancel</button>
            <button
                id="confirmBtn"
                value="default"
                _="
                -- Prevent the 'confirm' button from the default behavior of submitting the form (We don't want to submit this fake form):
                on click call event.preventDefault()

                -- send the value of the select box value:
                then send a_close(message: first of value of <select/>) to <dialog/>
                "
            >
                Confirm
            </button>
        </div>
    </form>
</dialog>

<p>
    <button id="showDialog" _="on click send a_show_dialog">
        Show the dialog
    </button>
</p>
<output></output>

</body>
</html>
